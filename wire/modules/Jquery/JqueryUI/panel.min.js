var pwPanels={qty:0,init:function(){var a=window.location.href;if(a.indexOf("pw_panel=1")>-1){$(document).on("mouseover","a",function(){var b=$(this);var c=b.attr("target");if(typeof c=="undefined"||c.length==0){b.attr("target","_parent")}})}else{if(a.indexOf("pw_panel=2")>-1){}else{$(".pw-panel").each(function(){var c=$(this);var b=c.attr("data-href");if(typeof b=="undefined"||!b.length){b=c.attr("href")}pwPanels.add(b,c)})}}},add:function(h,f){var d=null;if(typeof f=="object"){d=f}else{if(typeof f!="undefined"){d=$(f)}}h+=(h.indexOf("?")>-1?"&":"?")+"modal=panel&pw_panel=";if(d!==null&&d.hasClass("pw-panel-links")){h+="2"}else{h+="1"}var c="pw-panel-container-"+(++pwPanels.qty);var b=$("<i />").attr("class","pw-panel-icon fa fa-angle-double-left");var a=$("<small />").attr("class","ui-button-text").append(b);var e=$("<a />").attr("class","pw-panel-button pw-panel-button-closed ui-button ui-state-default").attr("href",h).on("click",pwPanels.buttonClickEvent).on("mouseover",pwPanels.buttonMouseoverEvent).on("mouseut",pwPanels.buttonMouseoutEvent).append(a);var g=$("<div />").attr("id",c).attr("class","pw-panel-container pw-panel-container-closed").append(e);$("body").append(g);if(d!==null){pwPanels.initToggler(f,e,g)}else{g.addClass("pw-panel-left")}},initToggler:function(b,j,l){var e=b.hasClass("pw-panel-right")?"right":"left";var k=b.attr("data-tab-text");var h=b.attr("data-tab-icon");var f=b.attr("data-tab-offset");var a=b.attr("data-panel-width");var d=e=="right"?"left":"right";var c=1;l.addClass("pw-panel-tab pw-panel-"+e);l.attr("data-href",j.attr("href"));if(b.hasClass("pw-panel-reload")){l.addClass("pw-panel-reload")}if(typeof f!="undefined"){f=parseInt(f);if(f>-1){j.css("top",f+"px")}else{j.css("top","auto");j.css("bottom",Math.abs(f)+"px")}}if(typeof k!="undefined"&&k.length){j.children(".ui-button-text").text(k);j.addClass("pw-panel-button-text");c=7}if(typeof h!="undefined"&&h.length){var g=$("<i />").addClass("fa fa-fw fa-"+h);var i=j.children(".ui-button-text");if(j.hasClass("pw-panel-button-text")){i.prepend(g)}else{i.empty().append(g);j.css(d,(-1*(j.outerWidth()))+"px")}}if(typeof a!="undefined"&&a.length){l.css("width",a);l.css(e,"-"+a)}if(e=="right"){}else{j.css("right",(-1*(c+j.height()))+"px")}if(!b.hasClass("pw-panel-tab")){j.addClass("pw-panel-button-hidden")}b.click(function(){j.click();return false}).on("mouseover",function(){j.mouseover()}).on("mouseout",function(){j.mouseout()})},initPanelContent:function(b){var a=b.find("iframe.pw-panel-content");if(a.length){return a}else{a=$("<iframe />").addClass("pw-panel-content").attr("src",b.attr("data-href"));b.append(a)}return a},windowResizeEvent:function(){$(".pw-panel-container-init").each(function(){var c=$(this);if(c.hasClass("pw-panel-container-open")){return}var b=c.width();var a=(-1*b)+"px";if(c.hasClass("pw-panel-right")){c.css("right",a)}else{c.css("left",a)}})},buttonClickEvent:function(){var g=$(this);var i=g.closest(".pw-panel-container");var b=i.hasClass("pw-panel-container-open");var a=i.width();var d=i.hasClass("pw-panel-right")?"right":"left";var f=typeof jQuery.ui!="undefined";function c(){i.toggleClass("pw-panel-container-open pw-panel-container-closed");g.toggleClass("pw-panel-button-open pw-panel-button-closed")}if($(".pw-panel-container-init").length==0){$(window).resize(pwPanels.windowResizeEvent)}if(b){var h=(-1*a)+"px";if(f){if(d=="left"){i.animate({left:h},150,c)}else{i.animate({right:h},150,c)}}else{i.css(d,h);c()}$("body").css("overflow","");$("#pw-panel-shade").fadeOut("fast",function(){$(this).remove()});g.fadeOut("fast",function(){g.removeClass("ui-state-active");g.fadeIn("fast")});if(f&&d=="left"){i.resizable("destroy")}if(i.hasClass("pw-panel-reload")){i.find("iframe.pw-panel-content").remove()}}else{if(i.hasClass("pw-panel-reload")){pwPanels.initPanelContent(i)}if(f){if(d=="left"){i.animate({left:0},150,c)}else{i.animate({right:0},150,c)}}else{i.css(d,0);c()}var e=$("<div id='pw-panel-shade'>&nbsp;</div>");i.before(e).fadeIn("fast");$("body").css("overflow","hidden");e.click(function(){var j=$(".pw-panel-container-open");if(!j.length){return false}j.find(".pw-panel-button").click()});if(f&&d=="left"){i.resizable({handles:"e",start:function(k,l){var j=$("<div />").addClass("pw-panel-resizable-overlay").css({position:"absolute",top:0,left:0,width:"100%",height:"100%",zIndex:1001,display:"hidden"});i.append(j)},stop:function(j,k){$(".pw-panel-resizable-overlay").remove()}})}i.addClass("pw-panel-container-init")}return false},buttonMouseoverEvent:function(){var a=$(this);var b=a.closest(".pw-panel-container");a.removeClass("ui-state-active").addClass("ui-state-hover");if(b.hasClass("pw-panel-container-loaded")){return}b.addClass("pw-panel-container-loaded");if(!b.hasClass("pw-panel-reload")){pwPanels.initPanelContent(b)}},buttonMouseoutEvent:function(){var a=$(this);var b=a.closest(".pw-panel-container");if(b.hasClass("pw-panel-container-open")){a.addClass("ui-state-active")}}};jQuery(document).ready(function(){pwPanels.init()});