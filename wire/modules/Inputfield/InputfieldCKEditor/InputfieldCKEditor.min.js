for(var name in config.InputfieldCKEditor.plugins){var file=config.InputfieldCKEditor.plugins[name];CKEDITOR.plugins.addExternal(name,file,"")}var inlineCKEditors=[];function ckeBlurEvent(b){var a=b.editor;if(a.checkDirty()){var c=$(a.element.$);if(c.length){if(c.is("textarea")){c.change()}c.closest(".Inputfield").addClass("InputfieldStateChanged")}}}function initCKEditorTab(d,f){var g=f.newTab;var e=g.find("a");if(e.hasClass("InputfieldCKEditor_init")){return}var a=e.attr("data-editorID");var c=e.attr("data-cfgName");var b=CKEDITOR.replace(a,config[c]);b.on("blur",ckeBlurEvent);b.on("change",ckeBlurEvent);e.addClass("InputfieldCKEditor_init");f.oldTab.find("a").addClass("InputfieldCKEditor_init")}$(document).ready(function(){CKEDITOR.timestamp=config.InputfieldCKEditor.timestamp;for(var b in config.InputfieldCKEditor.editors){var d=config.InputfieldCKEditor.editors[b];var g=$("#"+b);var f=g.parent();if(f.hasClass("ui-tabs-panel")&&f.css("display")=="none"){var h=g.parent().attr("id");var e=f.closest(".ui-tabs, .langTabs").find("a[href=#"+h+"]");e.attr("data-editorID",b).attr("data-cfgName",d);f.closest(".ui-tabs, .langTabs").on("tabsactivate",initCKEditorTab)}else{var c=CKEDITOR.replace(b,config[d]);c.on("blur",ckeBlurEvent);c.on("change",ckeBlurEvent)}}var a=$("#Inputfield_id").val();CKEDITOR.disableAutoInline=true;$(document).on("mouseover",".InputfieldCKEditorInline[contenteditable=true]",function(){var l=$(this);if(l.is(".InputfieldCKEditorLoaded")){return}l.effect("highlight",{},500);l.attr("contenteditable","true");var j=l.attr("data-configName");var i=CKEDITOR.inline($(this).attr("id"),config[j]);i.on("blur",ckeBlurEvent);i.on("change",ckeBlurEvent);var k=inlineCKEditors.length;inlineCKEditors[k]=i;l.attr("data-n",k);l.addClass("InputfieldCKEditorLoaded")});$("form.InputfieldForm").submit(function(){$(this).find(".InputfieldCKEditorInline").each(function(){var m=$(this);var j;if(m.is(".InputfieldCKEditorLoaded")){var l=parseInt(m.attr("data-n"));var i=inlineCKEditors[l];j=i.getData()}else{j=m.html()}var k=m.next("input");k.attr("value",j)})})});