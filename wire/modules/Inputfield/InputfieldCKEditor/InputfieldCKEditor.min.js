function ckeLoadPlugins(){for(var a in config.InputfieldCKEditor.plugins){var b=config.InputfieldCKEditor.plugins[a];CKEDITOR.plugins.addExternal(a,b,"")}}ckeLoadPlugins();function ckeBlurEvent(b){var a=b.editor;if(a.checkDirty()){var c=$(a.element.$);if(c.length){if(c.is("textarea")){c.change()}c.closest(".Inputfield").addClass("InputfieldStateChanged")}}}function ckeInitEvents(a){a.on("blur",ckeBlurEvent);a.on("change",ckeBlurEvent)}function ckeSaveReadyInline(b){var a=b.hasClass(".InputfieldCKEditorInline")?b:b.find(".InputfieldCKEditorInline");a.each(function(){var f=$(this);var d;if(f.hasClass("InputfieldCKEditorLoaded")){var c=CKEDITOR.instances[f.attr("id")];d=c.getData()}else{d=f.html()}var e=f.next("input");e.attr("value",d)})}function ckeSaveReadyNormal(b){var a=b.hasClass("InputfieldCKEditorNormal")?b:b.find(".InputfieldCKEditorNormal");a.each(function(){var d=$(this);if(!d.hasClass("InputfieldCKEditorLoaded")){return}var c=CKEDITOR.instances[d.attr("id")];c.updateElement()})}function ckeInlineMouseoverEvent(b){var d=$(this);if(d.is(".InputfieldCKEditorLoaded")){return}d.effect("highlight",{},500);d.attr("contenteditable","true");var c=d.attr("data-configName");var a=CKEDITOR.inline($(this).attr("id"),config[c]);ckeInitEvents(a);d.addClass("InputfieldCKEditorLoaded")}function ckeInitTab(d,f){var h=f.newTab;var e=h.find("a");if(e.hasClass("InputfieldCKEditor_init")){return}var a=e.attr("data-editorID");var c=e.attr("data-cfgName");var b=CKEDITOR.replace(a,config[c]);ckeInitEvents(b);e.addClass("InputfieldCKEditor_init");f.oldTab.find("a").addClass("InputfieldCKEditor_init");var g=$("#"+a);g.addClass("InputfieldCKEditorLoaded")}function ckeInitNormal(a){var c=config.InputfieldCKEditor.editors[a];var f=$("#"+a);var e=f.parent();if(e.hasClass("ui-tabs-panel")&&e.css("display")=="none"){var g=f.parent().attr("id");var d=e.closest(".ui-tabs, .langTabs").find("a[href=#"+g+"]");d.attr("data-editorID",a).attr("data-cfgName",c);e.closest(".ui-tabs, .langTabs").on("tabsactivate",ckeInitTab)}else{var b=CKEDITOR.replace(a,config[c]);ckeInitEvents(b);f.addClass("InputfieldCKEditorLoaded")}}$(document).ready(function(){CKEDITOR.timestamp=config.InputfieldCKEditor.timestamp;for(var a in config.InputfieldCKEditor.editors){ckeInitNormal(a)}$(document).on("reloaded",".InputfieldCKEditor",function(){var b=$(this).find(".InputfieldCKEditorNormal:not(.InputfieldCKEditorLoaded)");if(b.length){ckeInitNormal(b.attr("id"))}});CKEDITOR.disableAutoInline=true;$(document).on("mouseover",".InputfieldCKEditorInline[contenteditable=true]",ckeInlineMouseoverEvent);$(document).on("submit","form.InputfieldForm",function(){ckeSaveReadyInline($(this))});$(document).on("saveReady",".InputfieldCKEditor",function(){ckeSaveReadyNormal($(this));ckeSaveReadyInline($(this))})});